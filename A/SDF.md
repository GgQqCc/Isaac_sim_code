SDF符号距离场碰撞体  
主要解决凹物体碰撞问题
1. 核心原理：什么是 SDF (Signed Distance Field)？想象你手里有一个复杂的零件（比如螺母）。
Distance Field（距离场）： 我们在螺母周围的空间里，布满无数个隐形的点。每个点都存一个数字，代表**“我离螺母表面最近的距离”**。
Signed（符号）： * 如果点在螺母外面，数值是正的（比如 +5cm）。如果点刚好在表面，数值是 0。如果点在螺母内部，数值是负的（比如 -2cm）。
2. 物理引擎怎么利用它算碰撞？当两个物体（比如螺栓和螺母）靠近时，物理引擎不再去苦哈哈地计算成千上万个三角面片是否交叉，而是做下面这件事：
取样： 引擎在螺栓的表面取一些采样点。
查表： 引擎拿着这些点，去查螺母的“SDF 气场图”。
判断： * 如果查出来的数值都是正的，说明没撞上。如果某个点的数值是 -1mm，引擎瞬间就知道：“不好！螺栓已经扎进螺母里 1mm 深了！”
反弹： 引擎根据这个负值（穿透深度）和梯度的方向，立刻给螺栓施加一个向外的推力，把它“弹”出去。
3. 为什么“稀疏 (Sparse)”能省钱？（算法原理）刚才说了，SDF 需要在空间里布满点。如果你用的分辨率是 512，那就是 $512^3 = 1.34亿$ 个点。每个点存一个浮点数，显存直接爆掉。
稀疏 SDF 的原理叫“八叉树 (Octree)”或“层级化存储”：真空区（离表面远）： 既然离表面还有 1 米远，我根本不需要知道精确到毫米的距离。我用一个超大的格子（比如 10cm 一个点）代表这片区域就行。
敏感区（离表面近）： 只有当点靠近表面（接近 0）的时候，我才把这个大格子切成更小的格子（Subgrids）。

![Uploading image.png…]()
A sparse SDF consists of a background SDF and subgrids in the vicinty of surfaces

1. 窄带交界区 (Region intersecting narrow band) —— 精细计算区
图中表现：你可以看到在物体边缘（蓝色区域边缘）有一圈灰色阴影带，里面布满了细密的小绿点。
原理：这是最重要的区域。物理引擎认为，碰撞最可能发生在物体的表面附近。
逻辑：只有当空间点到表面的距离在 narrowBandThickness（窄带厚度）范围内时，引擎才会启用 Subgrid（子网格），生成高密度的采样点。
目的：确保物体表面的碰撞细节（如螺纹、棱角）极其精确。

2. 线性平坦区 (Region with linear SDF) —— 智能省钱区
图中表现：位于物体上方的平直边缘，虽然离表面近，但点并不细密。
原理：图注提到“Error would be below the error threshold”。
逻辑：如果一个表面是非常平整的平面，那么“粗略的格子”和“精细的格子”算出来的距离场几乎是一样的。
目的：按需分配。既然平面的几何特征很简单，引擎就没必要生成子网格，从而节省内存。

3. 非窄带区 (Region not intersecting narrow band) —— 粗略背景区
图中表现：物体最内部或最外部远离边界的地方，只有稀疏的大绿点。
原理：这里的距离值超出了 [-narrowBandThickness, narrowBandThickness] 这个区间。
逻辑：既然离表面还远，引擎只需要知道一个大概的“安全距离”即可。它只保留最基础的背景网格采样。
目的：极大地减少了背景空间的内存占用。
